---
title: "Get WFS Dataset"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Import

```{r import}
library(kwb.fisbroker)

berlin_bezirke <- kwb.fisbroker::get_wfs_dataset(dataset_id = "s_wfs_alkis_bezirk")
str(berlin_bezirke)

DT::datatable(berlin_bezirke)
```

## Plot

```{r plot}
### Define Helper Function
plot_bezirke <- function(layer) {
  
  ## fix as name for "geometry" (sf v1.0-7) seems to be renamed to "geom" in 
  ## sf v1.0-8 (or if not might be different on macos)
  sf_geometry_name <- c("geom", "geometry")
  columns <- names(layer)[names(layer) %in% c("namgem", sf_geometry_name)]
  
  plot(layer[,columns])
}

plot_bezirke(berlin_bezirke)

```
