[{"path":[]},{"path":"https://kwb-r.github.io/kwb.fisbroker/articles/wfs.html","id":"read-metadata","dir":"Articles","previous_headings":"Read","what":"Read Metadata","title":"Read WFS Dataset","text":"","code":"library(kwb.fisbroker)  dataset_id <- \"s_wfs_alkis_bezirk\"  berlin_bezirke_metadata <- kwb.fisbroker::read_metadata(dataset_id,                                                          service_type = \"WFS\") #> Importing WFS metadata for dataset_id 's_wfs_alkis_bezirk' from FIS-Broker ... ok. (0.12s)  DT::datatable(berlin_bezirke_metadata)"},{"path":"https://kwb-r.github.io/kwb.fisbroker/articles/wfs.html","id":"read-wfs","dir":"Articles","previous_headings":"Read","what":"Read WFS","title":"Read WFS Dataset","text":"","code":"berlin_bezirke <- kwb.fisbroker::read_wfs(dataset_id) #> Importing WFS dataset_id 's_wfs_alkis_bezirk' from FIS-Broker ... ok. (1.86s) str(berlin_bezirke) #> sf [12 × 7] (S3: sf/tbl_df/tbl/data.frame) #>  $ gml_id: chr [1:12] \"s_wfs_alkis_bezirk.1\" \"s_wfs_alkis_bezirk.2\" \"s_wfs_alkis_bezirk.3\" \"s_wfs_alkis_bezirk.4\" ... #>  $ gem   : int [1:12] 3 9 7 2 6 11 4 10 5 12 ... #>  $ namgem: chr [1:12] \"Pankow\" \"Treptow-Köpenick\" \"Tempelhof-Schöneberg\" \"Friedrichshain-Kreuzberg\" ... #>  $ namlan: chr [1:12] \"Berlin\" \"Berlin\" \"Berlin\" \"Berlin\" ... #>  $ lan   : int [1:12] 11 11 11 11 11 11 11 11 11 11 ... #>  $ name  : int [1:12] 11000003 11000009 11000007 11000002 11000006 11000011 11000004 11000010 11000005 11000012 ... #>  $ geom  :sfc_MULTIPOLYGON of length 12; first list element: List of 4 #>   ..$ :List of 1 #>   .. ..$ : num [1:7, 1:2] 391270 391262 391256 391259 391266 ... #>   ..$ :List of 1 #>   .. ..$ : num [1:6, 1:2] 391281 391278 391279 391284 391282 ... #>   ..$ :List of 1 #>   .. ..$ : num [1:18, 1:2] 398780 398783 398819 398825 398824 ... #>   ..$ :List of 2 #>   .. ..$ : num [1:3251, 1:2] 394902 394885 394883 394867 394854 ... #>   .. ..$ : num [1:7, 1:2] 394016 394041 394045 394036 394027 ... #>   ..- attr(*, \"class\")= chr [1:3] \"XY\" \"MULTIPOLYGON\" \"sfg\" #>  - attr(*, \"sf_column\")= chr \"geom\" #>  - attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..: NA NA NA NA NA NA #>   ..- attr(*, \"names\")= chr [1:6] \"gml_id\" \"gem\" \"namgem\" \"namlan\" ...  DT::datatable(berlin_bezirke)"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.fisbroker/articles/wfs.html","id":"simple-plot","dir":"Articles","previous_headings":"Plot","what":"Simple Plot","title":"Read WFS Dataset","text":"","code":"### Define Helper Function plot_bezirke <- function(layer) {      ## fix as name for \"geometry\" (sf v1.0-7) seems to be renamed to \"geom\" in    ## sf v1.0-8 (or if not might be different on macos)   sf_geometry_name <- c(\"geom\", \"geometry\")   columns <- names(layer)[names(layer) %in% c(\"namgem\", sf_geometry_name)]      plot(layer[,columns]) }  plot_bezirke(berlin_bezirke)"},{"path":"https://kwb-r.github.io/kwb.fisbroker/articles/wfs.html","id":"leaflet-plot","dir":"Articles","previous_headings":"Plot","what":"Leaflet Plot","title":"Read WFS Dataset","text":"","code":"### Plot to check if Berlin boundaries are plotted correctly. ### Set target CRS crs_target <- 4326  basemap <- berlin_bezirke %>%   sf::st_transform(crs = crs_target) %>%   leaflet::leaflet() %>%   leaflet::addTiles() %>%   leaflet::addProviderTiles(leaflet::providers$CartoDB.Positron) %>%   leaflet::addPolygons(stroke = FALSE,                         fillColor = rainbow(n = length(berlin_bezirke$namgem)),                         fill = TRUE) %>%    leaflet::addLegend(     position = \"topright\",     colors = rainbow(n = length(berlin_bezirke$namgem)),     labels = berlin_bezirke$namgem,     title = \"Berliner Bezirke\")  basemap"},{"path":"https://kwb-r.github.io/kwb.fisbroker/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael Rustler. Author, maintainer. . Funder. . Copyright holder.","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rustler M (2022). kwb.fisbroker: R Package Getting Spatial Data FIS-Broker. R package version 0.0.0.9000, https://github.com/KWB-R/kwb.fisbroker.","code":"@Manual{,   title = {kwb.fisbroker: R Package for Getting Spatial Data from FIS-Broker},   author = {Michael Rustler},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://github.com/KWB-R/kwb.fisbroker}, }"},{"path":"https://kwb-r.github.io/kwb.fisbroker/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Package for Getting Spatial Data from FIS-Broker","text":"installing latest release R package run following code :","code":"# Enable repository from kwb-r options(repos = c(   kwbr = 'https://kwb-r.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Download and install kwb.fisbroker in R install.packages('kwb.fisbroker')  # Browse the kwb.fisbroker manual pages help(package = 'kwb.fisbroker')"},{"path":"https://kwb-r.github.io/kwb.fisbroker/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Kompetenzzentrum Wasser Berlin gGmbH (KWB) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/fb_datasets.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"FIS-Broker Datasets — fb_datasets","text":"data frame 1186 rows 7 variables: category_id Category id dataset (artifically generated) category_name Category name dataset) dataset_id Dataset id, artifically generated!!! dataset_name Dataset name listed table dataset_name_href Link dataset name. JS session Id replaced placeholder dataset_type Dataset type listed table one ATOM, WFS WMS dataset_type_href Link dataset type. JS session Id replaced fb_datasets   overview available FIS-Broker datasets (based offline download version table FIS-Broker). Generated R code file data-raw/fb_datasets.R   fb_datasets  datasets","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/get_urls.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Urls — get_urls","title":"Get Urls — get_urls","text":"Get Urls","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/get_urls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Urls — get_urls","text":"","code":"get_urls()"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/get_urls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Urls — get_urls","text":"return base wfs urls FIS-Broker","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/get_urls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Urls — get_urls","text":"","code":"fisbroker_urls <- get_urls() fisbroker_urls #> $base #> [1] \"https://fbinter.stadt-berlin.de\" #>  #> $wfs #> [1] \"https://fbinter.stadt-berlin.de/fb/wfs/data/senstadt\" #>"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Read metadata — read_metadata","title":"Read metadata — read_metadata","text":"Read metadata","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read metadata — read_metadata","text":"","code":"read_metadata(   dataset_id = \"s_wfs_alkis_bezirk\",   service_type = \"WFS\",   encoding = \"Windows-1252\",   debug = TRUE )"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read metadata — read_metadata","text":"dataset_id id wfs dataset (default: \"s_wfs_alkis_bezirk\"). Needs checked manually described : Go : https://fbinter.stadt-berlin.de/fb/ Click \"WFS\" \"WMS\" Dataset Read content Rechneraddresse opened tab. basename url required dataset id! service_type either \"WFS\" \"WMS\" (default: \"WFS\") encoding encoding metadata FIS-Broker site (default: \"Windows-1252\") debug print debug messages (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read metadata — read_metadata","text":"tibble metadata provided dataset_id","code":""},{"path":[]},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read metadata — read_metadata","text":"","code":"### One Dataset berlin_bezirke_metadata <- read_metadata(dataset_id = \"s_wfs_alkis_bezirk\") #> Importing WFS metadata for dataset_id 's_wfs_alkis_bezirk' from FIS-Broker ... ok. (0.10s)  berlin_bezirke_metadata #> # A tibble: 17 × 4 #>    title_id title_name            parameter              value                   #>       <int> <chr>                 <chr>                  <chr>                   #>  1        1 ALKIS Berlin Gemeinde Kurzbeschreibung       \"Bezirke von Berlin\"    #>  2        1 ALKIS Berlin Gemeinde Koordinatensysteme     \"EPSG:25833, EPSG:4258\" #>  3        1 ALKIS Berlin Gemeinde Ausdehnung             \"EPSG:25833: 369097,85… #>  4        1 ALKIS Berlin Gemeinde Ausdehnung             \"EPSG:4258: 13,08, 52,… #>  5        1 ALKIS Berlin Gemeinde Nutzungsbedingungen    \"Für die Nutzung der D… #>  6        1 ALKIS Berlin Gemeinde Zugriffsbeschränkungen \"Es gelten keine Zugri… #>  7        2 Technische Angaben    Rechneradresse         \"https://fbinter.stadt… #>  8        2 Technische Angaben    Standard               \"WFS\"                   #>  9        2 Technische Angaben    Version                \"1.0.0\"                 #> 10        2 Technische Angaben    Version                \"1.1.0\"                 #> 11        2 Technische Angaben    Version                \"2.0.0\"                 #> 12        2 Technische Angaben    Operationen            \"GetCapabilities\"       #> 13        2 Technische Angaben    Operationen            \"DescribeFeatureType\"   #> 14        2 Technische Angaben    Operationen            \"GetFeature\"            #> 15        2 Technische Angaben    Ausgabeformate         \"text/xml; subtype=gml… #> 16        2 Technische Angaben    Ausgabeformate         \"text/xml; subtype=gml… #> 17        2 Technische Angaben    Ausgabeformate         \"text/xml; subtype=gml…  ### Multiple ids_wfs <- readLines(system.file(\"extdata/ids_wfs.txt\",  package = \"kwb.fisbroker\"))  wfs_meta_list <- setNames(lapply(ids_wfs, function(id) { kwb.fisbroker::read_metadata(id)}), ids_wfs) #> Importing WFS metadata for dataset_id 's03_11_3LRP2018_2025' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 'sach_nutz2020_nutzsa' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 'sach_nutz2015_nutzsa' from FIS-Broker ... ok. (0.06s)  #> Importing WFS metadata for dataset_id 's08_07_2tehganlagen' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's03_12_2emissionen' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_messpunkte' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's02_08fisch2013' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 'sach_nutz2020_nutzsa' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 'sach_nutz2015_nutzsa' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_05_09gruenvol2020' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 'co2veg_block' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 'co2veg_strasse' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_04_08_2lniederschl_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_08_2lniederschl_fl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_08_2lniederschl_str_8110' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_04_08_3lniederschl_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_08_3lniederschl_fl_8110' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_04_08_3lniederschl_str_8110' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_04_02_1ltempmittel_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_1ltempmittel_fl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_1ltempmittel_str_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_2ltempmittel_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_2ltempmittel_str_8110' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's_04_02_3ltempmittel_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_3ltempmittel_fl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_3ltempmittel_str_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_5ltempmittel_bl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_5ltempmittel_fl_8110' from FIS-Broker ... ok. (0.05s)  #> Importing WFS metadata for dataset_id 's_04_02_5ltempmittel_str_8110' from FIS-Broker ... ok. (0.04s)  #> Importing WFS metadata for dataset_id 's03_11_3LRP2018_2025' from FIS-Broker ... ok. (0.05s)   wfs_meta <- dplyr::bind_rows(wfs_meta_list, .id = \"id_wfs\")  wfs_meta #> # A tibble: 495 × 5 #>    id_wfs               title_id title_name                        param…¹ value #>    <chr>                   <int> <chr>                             <chr>   <chr> #>  1 s03_11_3LRP2018_2025        1 Luftreinhalteplan 2018-2025 - Sz… Kurzbe… \"Wir… #>  2 s03_11_3LRP2018_2025        1 Luftreinhalteplan 2018-2025 - Sz… Koordi… \"EPS… #>  3 s03_11_3LRP2018_2025        1 Luftreinhalteplan 2018-2025 - Sz… Ausdeh… \"EPS… #>  4 s03_11_3LRP2018_2025        1 Luftreinhalteplan 2018-2025 - Sz… Nutzun… \"Für… #>  5 s03_11_3LRP2018_2025        1 Luftreinhalteplan 2018-2025 - Sz… Zugrif… \"Es … #>  6 s03_11_3LRP2018_2025        2 Technische Angaben                Rechne… \"htt… #>  7 s03_11_3LRP2018_2025        2 Technische Angaben                Standa… \"WFS\" #>  8 s03_11_3LRP2018_2025        2 Technische Angaben                Version \"1.0… #>  9 s03_11_3LRP2018_2025        2 Technische Angaben                Version \"1.1… #> 10 s03_11_3LRP2018_2025        2 Technische Angaben                Version \"2.0… #> # … with 485 more rows, and abbreviated variable name ¹​parameter"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_wfs.html","id":null,"dir":"Reference","previous_headings":"","what":"Read WFS Dataset from FIS-Broker — read_wfs","title":"Read WFS Dataset from FIS-Broker — read_wfs","text":"Read WFS Dataset FIS-Broker","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_wfs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read WFS Dataset from FIS-Broker — read_wfs","text":"","code":"read_wfs(   dataset_id = \"s_wfs_alkis_bezirk\",   service_version = \"2.0.0\",   srs = \"EPSG:25833\",   encoding = \"UTF-8\",   debug = TRUE )"},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_wfs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read WFS Dataset from FIS-Broker — read_wfs","text":"dataset_id id wfs dataset (default: \"s_wfs_alkis_bezirk\"). Needs checked manually described : Go : https://fbinter.stadt-berlin.de/fb/ Click WFS Dataset Read content Rechneraddresse opened tab. basename url required dataset id! service_version one \"1.0.0\", \"1.1.0\" \"2.0.0\" (default: \"2.0.0\") srs one \"EPSG:4258\" \"EPSG:25833\" (default: \"EPSG:25833\") encoding default: UTF-8 debug prints debug messages TRUE (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_wfs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read WFS Dataset from FIS-Broker — read_wfs","text":"imports selected WFS dataset R","code":""},{"path":[]},{"path":"https://kwb-r.github.io/kwb.fisbroker/reference/read_wfs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read WFS Dataset from FIS-Broker — read_wfs","text":"","code":"berlin_bezirke <- kwb.fisbroker::read_wfs(dataset_id = \"s_wfs_alkis_bezirk\") #> Importing WFS dataset_id 's_wfs_alkis_bezirk' from FIS-Broker ... ok. (1.78s)"},{"path":"https://kwb-r.github.io/kwb.fisbroker/news/index.html","id":"kwbfisbroker-0009000","dir":"Changelog","previous_headings":"","what":"kwb.fisbroker 0.0.0.9000","title":"kwb.fisbroker 0.0.0.9000","text":"Add function read_metadata() metadata WFS WMS datasets Add function read_wfs() importing WFS datasets FIS-Broker R sf object. details using function checkout Read WFS Dataset article. Added NEWS.md file track changes package. see https://style.tidyverse.org/news.html writing good NEWS.md","code":""}]
